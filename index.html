<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic HTML</title>
</head>
<body>
    <h1>Hi, Hello!!!</h1>
    <script type='text/javascript'>
	function initEmbeddedMessaging() {
		try {
			embeddedservice_bootstrap.settings.language = 'en_US'; // For example, enter 'en' or 'en-US'

			embeddedservice_bootstrap.init(
				'00DQy00000KVfD3',
				'New_ESA_Deployment',
				'https://orgfarm-f803aa630c-dev-ed.develop.my.site.com/ESWNewESADeployment1738666645934',
				{
					scrt2URL: 'https://orgfarm-f803aa630c-dev-ed.develop.my.salesforce-scrt.com'
				}
			);
		} catch (err) {
			console.error('Error loading Embedded Messaging: ', err);
		}
	};
</script>
	<script type='text/javascript'>
    function initEmbeddedMessaging() {
        try {
            embeddedservice_bootstrap.settings.language = 'en_US'; // For example, enter 'en' or 'en-US'

            embeddedservice_bootstrap.init(
                '00DDn00000DuiyZ',
                'Cookbook_MIAW_Deployment',
                'https://csg-gr-cdo-summer23.my.site.com/ESWCookbookMIAWDeployme1710815189835',
                {
                    scrt2URL: 'https://csg-gr-cdo-summer23.my.salesforce-scrt.com'
                }
            );
        } catch (err) {
            console.error('Error loading Embedded Messaging: ', err);
        }
    };
    
    //Passing Web Context to Prechat - BEGIN
    var sFirstName = "John";
    var sLastName = "Doe";
    var sSubject = "Test Subject";
    var sCustomerID = "12345678";
    var sShoppingCartValue = "1000";
        
    window.addEventListener("onEmbeddedMessagingReady", e => {
        //log event
        console.log("onEmbeddedMessagingReady event triggered");
        
        //set visible prechat field
        // embeddedservice_bootstrap.prechatAPI.setVisiblePrechatFields({
        //     // List the pre-chat field names with the value and whether
        //     // it's editable in the pre-chat form.
        //     "_firstName": {
        //       "value": sFirstName,
        //       "isEditableByEndUser": false
        //     },
        //     "_lastName": {
        //       "value": sLastName,
        //       "isEditableByEndUser": false
        //     },
        //     "_subject": {
        //       "value": "test subject",
        //       "isEditableByEndUser": true
        //     }
        // });
      
        //Set invisible prechat field
        embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields({
            "customerid" : "2345678",
            "shoppingcartvalue" : "10000"
        });
    });
    //Passing Web Context to Prechat - END
    
</script>
<script type='text/javascript' src='https://orgfarm-f803aa630c-dev-ed.develop.my.site.com/ESWNewESADeployment1738666645934/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>

</body>
</html>
